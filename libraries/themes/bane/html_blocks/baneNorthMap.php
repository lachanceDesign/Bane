<script type="text/javascript" charset="utf-8">
  $(document).ready(function() {
    function e(){i=new google.maps.DirectionsRenderer;var a=new google.maps.LatLng(42.493975,-70.877438),b={zoom:10,scrollwheel:!1,center:a,disableDefaultUI:!0,navigationControl:!0,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_BOTTOM},zoomControl:!0,streetViewControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},c=new google.maps.Map(document.getElementById("map_canvas"),b);i.setMap(c),i.setPanel(document.getElementById("directions"));var d,e=new google.maps.InfoWindow;for(var f in t)d=new google.maps.Marker({position:new google.maps.LatLng(t[f].lat,t[f].lng),map:c,draggable:!1}),google.maps.event.addListener(d,"click",function(a,b){return function(){e.setContent('<div class="infoWindow"><a style="text-decoration:none;" href="'+t[b].link+'"><img style="width:200px;float:left;margin-right:15px;" src ="apps/_ee/files/'+t[b].img+'" class="centerImg"><div id="bodyContent"><h4 id="firstHeading" class="fancy">'+t[b].name+"</h4><p>"+t[b].add+"<br>"+t[b].phn+"<br>View Facility</p></div></a></div>"),e.open(c,a)}}(d,f))}function n(b,c){var d=t[c].add,e={origin:b,destination:d,travelMode:google.maps.TravelMode.DRIVING};a.route(e,function(a,b){b==google.maps.DirectionsStatus.OK?i.setDirections(a):alert("Address not found, please try again.")})}var i,a=new google.maps.DirectionsService,t={lynn:{name:"Abbott House Skilled Nursing Home & Rehabilitation",lat:42.475125,lng:-70.929498,img:"abbott-house-ext.jpg",add:"28 Essex Street, Lynn, MA 01902",phn:"781-595-5500",link:"/Abbott-House-skilled-nursing-home-rehabilitation"},marblehead:{name:"Devereux House Skilled Nursing Home & Rehabilitation",lat:42.493975,lng:-70.877438,img:"devereux-house-ext.jpg",add:"39 Lafayette Street, Marblehead, MA 01945",phn:"781-631-6120",link:"/Devereux-House-skilled-nursing-home-rehabilitation"},peabody:{name:"Rosewood Skilled Nursing Home & Rehabilitation",lat:42.546687,lng:-70.995161,img:"Rosewood-EXT.jpg",add:"22 Johnson Street, W. Peabody, MA 01960",phn:"978-535-8700",link:"/Rosewood-skilled-nursing-home-rehabilitation"}};google.maps.event.addDomListener(window,"load",e),$(".GetDirectionButton").click(function(){console.log("im clicked");var a=$("#startAddress").val(),b=$("#centerChosen").val();""!=a&&""!=b?(n(a,b),$("#directions").slideToggle("fast"),$("#printDirectionButton").toggle()):alert("Please enter both the starting address and the destination center")}),$("#printDirectionButton").click(function(){return window.print(),!1});
  });
</script>
